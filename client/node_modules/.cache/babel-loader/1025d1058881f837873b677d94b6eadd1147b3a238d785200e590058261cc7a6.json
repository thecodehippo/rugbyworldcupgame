{"ast":null,"code":"var _jsxFileName = \"/Users/mark.holgate/Desktop/projects/Javascript/rugbyworldcupgame/client/src/components/Homepage.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { roundBuilder } from '../Utils/roundBuilder';\nimport RoundsCarousel from './RoundsCarousel';\nimport styled from \"styled-components\";\nimport Fixtures from './Fixtures';\nimport { mockData } from '../mock/mockdata';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst url = '/api/fixtures';\nconst Homepage = () => {\n  _s();\n  const [rounds, setRounds] = useState([0]);\n  const [ready, setReady] = useState(false);\n  const [currentRound, setCurrentRound] = useState(1);\n  const [listOfPicks, setListOfPicks] = useState([]);\n  const [data, setData] = useState();\n  const addPick = newPick => {\n    const idTeamFromPick = newPick.substring(0, newPick.indexOf(\":\"));\n    let filteredDuplicatePicks = listOfPicks.filter(j => {\n      let idTeamFromState = j.substring(0, j.indexOf(\":\"));\n      return idTeamFromState !== idTeamFromPick;\n    });\n    setListOfPicks([...filteredDuplicatePicks, newPick]);\n  };\n  const changeCurrentRound = event => {\n    let text = event.target.innerText;\n    let roundNum = text.substring(text.length - 1, text.length);\n    setCurrentRound(parseInt(roundNum));\n  };\n  const logResults = async () => {\n    const response = await fetch(url);\n    const result = await response.json();\n    console.log(result);\n  };\n  useEffect(() => {\n    async function createGame() {\n      try {\n        const response = await fetch(url);\n        const result = await response.json();\n        setData(result.data);\n        setRounds(roundBuilder(mockData));\n      } catch (error) {\n        console.error(error);\n      }\n    }\n    createGame().then(() => setReady(true));\n  }, []);\n  return /*#__PURE__*/_jsxDEV(CanvasStyle, {\n    children: [ready ? /*#__PURE__*/_jsxDEV(RoundsCarousel, {\n      currentRound: currentRound,\n      rounds: rounds,\n      changeRound: changeCurrentRound\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 22\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: \"Loading\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 120\n    }, this), /*#__PURE__*/_jsxDEV(Fixtures, {\n      data: mockData,\n      currentRound: currentRound,\n      addPick: addPick\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 57,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      onClick: logResults,\n      children: \"Press Me\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 13\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 9\n  }, this);\n};\n_s(Homepage, \"dwrrnThyZEK8qCW3FCDVMqrxqPE=\");\n_c = Homepage;\nexport default Homepage;\nconst CanvasStyle = styled.div`\nborder: 1px solid black;\nmax-width: 500px;\nwidth: 100vw;\nmargin: auto;\n`;\n_c2 = CanvasStyle;\nvar _c, _c2;\n$RefreshReg$(_c, \"Homepage\");\n$RefreshReg$(_c2, \"CanvasStyle\");","map":{"version":3,"names":["React","useState","useEffect","roundBuilder","RoundsCarousel","styled","Fixtures","mockData","jsxDEV","_jsxDEV","url","Homepage","_s","rounds","setRounds","ready","setReady","currentRound","setCurrentRound","listOfPicks","setListOfPicks","data","setData","addPick","newPick","idTeamFromPick","substring","indexOf","filteredDuplicatePicks","filter","j","idTeamFromState","changeCurrentRound","event","text","target","innerText","roundNum","length","parseInt","logResults","response","fetch","result","json","console","log","createGame","error","then","CanvasStyle","children","changeRound","fileName","_jsxFileName","lineNumber","columnNumber","onClick","_c","div","_c2","$RefreshReg$"],"sources":["/Users/mark.holgate/Desktop/projects/Javascript/rugbyworldcupgame/client/src/components/Homepage.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { roundBuilder } from '../Utils/roundBuilder';\nimport RoundsCarousel from './RoundsCarousel';\nimport styled from \"styled-components\";\nimport Fixtures from './Fixtures';\nimport { mockData } from '../mock/mockdata';\n\nconst url = '/api/fixtures';\n\nconst Homepage = () => {\n    const [rounds, setRounds] = useState([0]);\n    const [ready, setReady] = useState(false);\n    const [currentRound, setCurrentRound] = useState(1);\n    const [listOfPicks, setListOfPicks] = useState([]);\n    const [data, setData] = useState();\n\n    const addPick = (newPick) => {\n        const idTeamFromPick = newPick.substring(0, newPick.indexOf(\":\"));\n\n        let filteredDuplicatePicks = listOfPicks.filter((j) => {\n            let idTeamFromState = j.substring(0, j.indexOf(\":\"));\n            return idTeamFromState !== idTeamFromPick;\n        });\n\n        setListOfPicks([...filteredDuplicatePicks, newPick]);\n    }\n\n    const changeCurrentRound = (event) => {\n        let text = event.target.innerText;\n        let roundNum = text.substring(text.length - 1, text.length);\n        setCurrentRound(parseInt(roundNum));\n    }\n\n    const logResults = async () => {\n        const response = await fetch(url);\n        const result = await response.json();\n        console.log(result);\n    }\n\n    useEffect(() => {\n        async function createGame() {\n            try {\n                const response = await fetch(url);\n                const result = await response.json();\n                setData(result.data);\n                setRounds(roundBuilder(mockData));\n            } catch (error) {\n                console.error(error);\n            }\n        }\n        createGame().then(() => setReady(true))\n     }, []);\n\n    return (\n        <CanvasStyle>\n            {ready ? <RoundsCarousel currentRound={currentRound} rounds={rounds} changeRound={changeCurrentRound} /> : <div>Loading</div>}\n            <Fixtures data={mockData} currentRound={currentRound} addPick={addPick}  />\n            <button onClick={logResults}>Press Me</button>\n        </CanvasStyle>\n    )\n}\n\nexport default Homepage;\n\nconst CanvasStyle = styled.div`\nborder: 1px solid black;\nmax-width: 500px;\nwidth: 100vw;\nmargin: auto;\n`"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}